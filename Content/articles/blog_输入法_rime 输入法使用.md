---
title: Rime è¾“å…¥æ³•ä½¿ç”¨
date: 2021-02-16
comments: true
path: usage-of-rime
categories: Tools
tags: â¦¿rime, â¦¿tool
updated:
---

ä¹…é—» Rime è¾“å…¥æ³•çš„å¤§å, åœ¨å‡ æ¬¡æµ…å°è¾„æ­¢å, ç»ˆäºè¢«å…¶é«˜å¯å®šåˆ¶æ€§ä¸ç®€æ´æ‰€å¸å¼•, è¿›è€Œå½»åº•è½¬å…¥ Rime çš„æ€€æŠ±. ç”±äº Rime çš„å®‰è£…ä¸ä½¿ç”¨æœ‰ä¸€å®šçš„éš¾åº¦, å› æ­¤æœ¬æ–‡è®°å½•ä¸‹ç›¸å…³çš„åŸºç¡€æ“ä½œ, ç”¨äºåæ¥æŸ¥é˜….

![himg](https://a.hanleylee.com/HKMS/2021-02-18124029.jpg?x-oss-process=style/WaMa)

<!-- more -->

å¦‚æœä½ æ˜¯ä¸€ä¸ª Rime æ–°ç”¨æˆ·, é‚£ä¹ˆè¯·å®Œå…¨æ ¹æ®æœ¬æ–‡çš„é¡ºåºè¿›è¡Œé˜…è¯»åŠé…ç½®, æœ€ç»ˆå°†å¾—åˆ°ä¸€ä¸ªä½ æ»¡æ„çš„è¾“å…¥æ³•. å¦‚æœä½ å¯¹ Rime å·²ç»æœ‰åŸºæœ¬çš„ä½¿ç”¨, é‚£ä¹ˆä¹Ÿå¯ä»¥è¿…é€ŸæŒ‰ç…§æœ¬æ–‡ç›®å½•å¿«é€Ÿæ‰¾åˆ°ä½ éœ€è¦çš„ç›¸å…³é…ç½®æ–¹æ³•.

> Rime åœ¨ä¸åŒçš„å¹³å°ä¸Šæœ‰ç€ä¸åŒçš„å®ç°, åœ¨ Mac OS ä¸Šæ˜¯ `é¼ é¡»ç®¡`, åœ¨ Windows ä¸Šæ˜¯ `å°ç‹¼æ¯«`, åœ¨ `Linux` ä¸Šæ˜¯ `Rime`. è™½ç„¶åç§°ä¸åŒ, ä½†æ˜¯å¯å®ç°çš„åŠŸèƒ½æ˜¯ç›¸åŒçš„. æœ¬æ–‡ä»…æ¶‰åŠ Mac OS ä¸Šçš„ `é¼ é¡»ç®¡`, å…¶ä»–å¹³å°çš„ç›¸å…³è®¾å®šæ–¹æ³•åŸºæœ¬ç›¸åŒ.

## Rime ä¸å…¶ä»–è¾“å…¥æ³•çš„ä¼˜åŠ£å¯¹æ¯”

é¦–å…ˆå¯¹ Rime ä¸å…¶ä»–è¾“å…¥æ³•è¿›è¡Œä¸€ä¸ªæˆ‘çš„ä¸»è§‚æ¯”è¾ƒ(å¯èƒ½ä¸å¤Ÿä¸¥è°¨, ä»…ä¾›å‚è€ƒ)

|              | Rime   | å…¶ä»–(æœç‹—/QQ/ç™¾åº¦ç­‰) |
|--------------|--------|----------------------|
| å¯é…ç½®ç¨‹åº¦   | â­ï¸â­ï¸â­ï¸ | â­ï¸                   |
| å¼€æº         | â­ï¸â­ï¸â­ï¸ | -                    |
| é€Ÿåº¦         | â­ï¸â­ï¸â­ï¸ | â­ï¸â­ï¸                 |
| UI           | â­ï¸â­ï¸â­ï¸ | â­ï¸â­ï¸                 |
| æœ€æ–°æµè¡Œè¯åº“ | â­ï¸     | â­ï¸â­ï¸â­ï¸               |

## å®‰è£… Rime

```bash
brew install --cask squirrel
```

ç„¶å, åœ¨ `System Preferences` -> `Keyboard` -> `Input Source` ä¸­æŒ‰ç…§å¦‚ä¸‹æ“ä½œå³å¯æ·»åŠ  Rime è¾“å…¥æ³•:

![himg](https://a.hanleylee.com/HKMS/2021-02-18103453.png?x-oss-process=style/WaMa)

![himg](https://a.hanleylee.com/HKMS/2021-02-18103700.png?x-oss-process=style/WaMa)

## é…ç½®æ–‡ä»¶åŠè·¯å¾„è¯´æ˜

Rime è¾“å…¥æ³•æ²¡æœ‰é…ç½®é¡µé¢, æ‰€æœ‰çš„é…ç½®å‡é€šè¿‡ `yaml` æ ¼å¼çš„é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®(ä¸ `vim` é€šè¿‡ `~/.vimrc` è¿›è¡Œé…ç½®æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™)

Rime çš„é…ç½®æ–‡ä»¶è·¯å¾„åˆ†ä¸º:

- ç¨‹åºé…ç½®è·¯å¾„: `/Library/Input Methods/Squirrel.app/Contents/SharedSupport`
- ç”¨æˆ·é…ç½®è·¯å¾„: `~/Library/Rime`

é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬åªéœ€è¦å…³æ³¨ `~/Library/Rime` æ–‡ä»¶å¤¹å³å¯, æ­¤æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ `.yaml` æ ¼å¼æ–‡ä»¶å‡ä¸º `Rime` çš„é…ç½®æ–‡ä»¶. é‡è¦çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹:

- `squirrel.custom.yaml`: Rime ç¨‹åºé…ç½®æ–‡ä»¶, ä¸»è¦ç”¨äºæ§åˆ¶ Rime çš„å¤–è§‚é…ç½®.
- `default.custom.yaml`: é…ç½®å¯ç”¨çš„è¾“å…¥ç±»å‹(å¦‚å°é¹¤åŒæ‹¼, æ˜æœˆæ‹¼éŸ³ç­‰), ä»¥åŠç›¸å…³å¿«æ·é”®
- `double_pinyin_flypy.custom.yaml`: å°é¹¤åŒæ‹¼é…ç½®æ–‡ä»¶, ä¸»è¦é…ç½®ä¸€äº›è¯å…¸æ–‡ä»¶
- `luna_pinyin.custom.yaml`: æ˜æœˆæ‹¼éŸ³é…ç½®æ–‡ä»¶.
- `luna_pinyin.extended.dict.yaml`: ä¸»å­—å…¸, ç”¨äºå®šä¹‰ä¸€äº› key value é”®å€¼å¯¹ä»¥åŠå…¶ä»–å¯¼å…¥çš„è¯å…¸.

> Rime çš„ yaml é…ç½®æ–‡ä»¶çš„ç¼©è¿›å¿…é¡»ä¸¥æ ¼æ§åˆ¶, å¦‚æœç¼©è¿›ä¸èƒ½å¯¹é½çš„è¯åˆ™ä¸ä¼šç”Ÿæ•ˆ

å…·ä½“çš„è®¾ç½®æ–¹å¼å¯å‚è€ƒæˆ‘ [repo](https://github.com/HanleyLee/Rime) ä¸­çš„å¯¹åº”æ–‡ä»¶. å¦‚æœä½ çš„ `~/Library/Rime` æ–‡ä»¶å¤¹ä¸­æ²¡æœ‰ä»¥ä¸Šæ–‡ä»¶, é‚£ä¹ˆä¹Ÿå¯ä»¥ä»æ­¤ repo ä¸­å¤åˆ¶.

## [ä¸œé£ç ´](https://github.com/rime/plum) å®‰è£…

Rime é»˜è®¤åªæä¾›å…¨æ‹¼è¾“å…¥æ–¹å¼, å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨åŒæ‹¼, äº”ç¬”ç­‰è¾“å…¥æ–¹å¼, é‚£ä¹ˆæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨å®˜æ–¹æ’ä»¶ç®¡ç†å™¨ `plum`(ä¹Ÿå«ä¸œé£ç ´)

```bash
curl -fsSL https://git.io/rime-install | bash
```

å®‰è£…åæˆ‘ä»¬éœ€è¦è¿›å…¥ `~/Library/Rime/plum` è·¯å¾„ä¸­æ‰§è¡Œç›¸å…³å‘½ä»¤, å¦‚:

- `bash rime-install double-pinyin`: å®‰è£…åŒæ‹¼è¾“å…¥æ³•
- `bash ~/Library/Rime/plum/rime-install emoji`: å®‰è£… emoji
- `bash ~/Library/Rime/plum/rime-install emoji:customize:schema=double_pinyin_flypy`: å®‰è£… emoji åˆ°åŒæ‹¼è¾“å…¥æ³•

## ç›¸å…³å¿«æ·é”®ä½¿ç”¨

- `control + ~`: åˆ‡æ¢è¾“å…¥æ–¹å¼
- `control + a`: åœ¨è¾“å…¥çŠ¶æ€ä¸‹å°†å…‰æ ‡ç§»åŠ¨åˆ°å¼€å§‹
- `control + e`: åœ¨è¾“å…¥çŠ¶æ€ä¸‹å°†å…‰æ ‡ç§»åŠ¨åˆ°ç»“å°¾
- `control + b`: åœ¨è¾“å…¥çŠ¶æ€ä¸‹å°†å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå•è¯
- `control + f`: åœ¨è¾“å…¥çŠ¶æ€ä¸‹å°†å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå•è¯
- `control + h`: åœ¨è¾“å…¥çŠ¶æ€ä¸‹å‘å·¦åˆ é™¤ä¸€ä¸ªå­—ç¬¦
- `=`/`.`: å‘ä¸‹ç¿»é¡µ
- `-`/`,`: å‘ä¸Šç¿»é¡µ
- `shift + backspace`: åœ¨è¾“å…¥çŠ¶æ€ä¸‹åˆ é™¤ä¸€ä¸ªå•è¯

## é€‰æ‹©è¦ä½¿ç”¨çš„è¾“å…¥æ–¹å¼

åœ¨ `~/Library/Rime/default.custom.yaml` ä¸­:

```bash
patch:
    schema_list:
        - schema: luna_pinyin
        - schema: double_pinyin_flypy
        # - schema: luna_pinyin_simp
        # - schema: luna_pinyin_fluency
        #   - schema: terra_pinyin
        #   - schema: double_pinyin_mspy
        #   - schema: emoji
        #   - scheopomofo
```

è¿™è¡¨ç¤ºæˆ‘ä»¬åªä½¿ç”¨ `æ˜æœˆæ‹¼éŸ³` ä¸ `å°é¹¤åŒæ‹¼` ä¸¤ç§è¾“å…¥æ–¹æ¡ˆ.

> æ¯æ¬¡æ”¹åŠ¨é…ç½®æˆ–æ·»åŠ æ–°è¯åº“åéƒ½éœ€è¦éƒ¨ç½²æ‰èƒ½ç”Ÿæ•ˆ

> ![himg](https://a.hanleylee.com/HKMS/2021-02-16231225.png?x-oss-process=style/WaMa)

## æ·»åŠ è¯åº“

åœ¨ `~/Library/Rime/luna_pinyin.custom.yaml` æ–‡ä»¶ä¸­, `"translator/dictionary": luna_pinyin.extended` è¡¨ç¤ºä½¿ç”¨è¯å…¸æ–‡ä»¶ `luna_pinyin.extended.yaml`. åœ¨ `luna_pinyin.extended.yaml` ä¸­:

```yaml
import_tables:
    - luna_pinyin
    - luna_pinyin.cn_en
    - luna_pinyin.computer
    - luna_pinyin.emoji
    - luna_pinyin.hanyu
    - luna_pinyin.movie
    - luna_pinyin.music
    - luna_pinyin.name
    - luna_pinyin.sgmain
    - luna_pinyin.poetry
    # è¿½åŠ 
    - luna_pinyin.sougou
    - hl_phrases
    - hl_secretphrases
```

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä½¿ç”¨äº†å¾ˆå¤šå¤–éƒ¨å…¶ä»–è¯å…¸, è¿™äº›è¯å…¸éƒ½æ˜¯ä»¥ `.yaml` ç»“å°¾çš„æ–‡ä»¶ç§»é™¤æ‰©å±•ååçš„åç§°. å…·ä½“æ–‡ä»¶å¯åœ¨æˆ‘çš„ [repo](https://github.com/HanleyLee/Rime) ä¸Šçœ‹åˆ°.

> è¯å…¸å†…çš„é”®å€¼å¯¹ä¹‹é—´å¿…é¡»ä½¿ç”¨ Tab éš”ç¦»å¼€æ¥, ä¸èƒ½ä½¿ç”¨ç©ºæ ¼!

## æ··åˆ emoji æç¤º

æˆ‘ä»¬å¯ä»¥å°† emoji ä¸æ±‰å­—è¿›è¡Œæ··åˆæç¤º, åªéœ€è¦é€šè¿‡ [`ä¸œé£ç ´`](https://github.com/rime/plum) å®‰è£… emoji æ”¯æŒå³å¯

- `bash ~/Library/Rime/plum/rime-install emoji`: å®‰è£… emoji
- `bash ~/Library/Rime/plum/rime-install emoji:customize:schema=double_pinyin_flypy`: å®‰è£… emoji åˆ°åŒæ‹¼è¾“å…¥æ³•

ç„¶åå³å¯çœ‹åˆ°å¯¹ emoji çš„æ”¯æŒäº†

![himg](https://a.hanleylee.com/HKMS/2021-02-18111934.png?x-oss-process=style/WaMa)

å¦‚æœæƒ³è¦ç§»é™¤æ¯ä¸ª emoji çš„æç¤ºä¿¡æ¯, åªéœ€è¦åœ¨ `~/Library/Rime/emoji_suggestion.yaml` ä¸­å°† `tips` è¿›è¡Œæ³¨é‡Šå³å¯

![himg](https://a.hanleylee.com/HKMS/2021-02-18143343.png?x-oss-process=style/WaMa)

## è‡ªå®šä¹‰è¯åº“

æˆ‘ä»¬å¯ä»¥é€šè¿‡å»ºç«‹è‡ªå®šä¹‰è¯å…¸æ–‡ä»¶(å¦‚ `~/Library/Rime/hl_phrases.dict.yaml`), å¹¶åœ¨å…¶ä¸­æŒ‰ç…§ `æ–‡å­— ç¼–ç  é¢‘æ¬¡(å¯çœç•¥)` çš„é¡ºåºå®šä¹‰å•è¯. ç¤ºä¾‹å¦‚ä¸‹:

```yaml
---
name: hl_phrases
version: "2021.02.17"
sort: by_weight
use_preset_vocabulary: true
...

# æœ‰ç è¡¨çš„è¯åº“, æ ¼å¼
# (æ³¨æ„æ˜¯ç”¨åˆ¶è¡¨ç¬¦åˆ†å‰²):
# æ–‡å­—  ç¼–ç     é¢‘æ¬¡(å¯çœç•¥)

ğŸ†˜  s o s   10000
```

æœ€åéœ€è¦åœ¨ `~/Library/Rime/luna_pinyin.extended.dict.yaml` ä¸­å¢åŠ æ­¤è¯å…¸:

```yaml
import_tables:
    ...
    # è¿½åŠ 
    - hl_phrases
    ...
```

ç„¶åè¿›è¡Œéƒ¨ç½², æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å®šä¹‰çš„ `sos` äº†

![himg](https://a.hanleylee.com/HKMS/2021-02-18112847.png?x-oss-process=style/WaMa)

## å¯¼å…¥æœç‹—è¾“å…¥æ³•è¯åº“

1. å¯¼å‡ºæœç‹—è¾“å…¥æ³•è¯åº“ä¸º `***.bin` æ–‡ä»¶
2. ä¸‹è½½ [æ·±è“è¯åº“è½¬æ¢](https://github.com/studyzy/imewlconverter)(ç›®å‰åªæœ‰ Windows ç‰ˆæœ¬æœ‰å›¾å½¢ç•Œé¢, Mac å¯ä»¥ä½¿ç”¨è™šæ‹Ÿæœº)

3. åœ¨è½¬æ¢ç•Œé¢çš„ç›®æ ‡æ ¼å¼é€‰æ‹© `Rime`, æºæ ¼å¼é€‰æ‹© `æœç‹— bin`, å¯¼å‡ºæ–‡ä»¶ä¸º `sogou.txt`
4. åˆ›å»º `~/Library/Rime/luna_pinyin.sougou.dict.yaml` æ–‡ä»¶, å†…å®¹å¦‚ä¸‹:

    ```yaml
    ---
    name: luna_pinyin.sougou
    version: "1.0"
    sort: by_weight
    use_preset_vocabulary: true
    ...
    ```

5. å°† `sougou.txt` å†…å®¹å¯¼å…¥åˆ° `~/Library/Rime/luna_pinyin.sougou.dict.yaml`

    ```bash
    cat sougou.txt >> luna_pinyin.sougou.dict.yaml
    ```

6. åœ¨ `~/Library/Rime/luna_pinyin.extended.dict.yaml` ä¸­æ·»åŠ æˆ‘ä»¬çš„æœç‹—è¯åº“

    ```yaml
    import_tables:
        ...
        # è¿½åŠ 
        - luna_pinyin.sougou
        ...
    ```

éƒ¨ç½²ä¹‹å, ç„¶åæµ‹è¯•å‘ç°æˆ‘ä»¬çš„ Rime è¾“å…¥æ³•å·²ç»å¯ä»¥ä½¿ç”¨æˆ‘ä»¬åœ¨æœç‹—ä¸­ç§¯ç´¯çš„è¯åº“äº†

![himg](https://a.hanleylee.com/HKMS/2021-02-18155920.png?x-oss-process=style/WaMa)

## åœ¨å¤šå°è®¾å¤‡é—´åŒæ­¥ä¿¡æ¯

åœ¨ `~/Library/Rime/installation.yaml` å£°æ˜:

```yaml
installation_id: hanley
sync_dir: "/Users/hanley/Library/Mobile Documents/com~apple~CloudDocs/Rime/"
```

`sync_dir` è¡¨ç¤ºä¼šå°† `~/Library/Rime` æ–‡ä»¶å¤¹å†…çš„ç›¸å…³å†…å®¹åŒæ­¥åˆ°ç›®æ ‡æ–‡ä»¶å¤¹å†…. `installation_id` è¡¨ç¤ºä¼šæ ¹æ®ç»™å®šçš„ç”¨æˆ·åä½œä¸ºç›®æ ‡æ–‡ä»¶å¤¹çš„å­æ–‡ä»¶å¤¹è¿›è¡ŒåŒæ­¥.

å¦‚ä¸Š, æˆ‘ä»¬å¯ä»¥åœ¨ iCloud ä¸­åˆ›å»º `Rime` æ–‡ä»¶å¤¹ç”¨äºåŒæ­¥, åœ¨å…¶ä»–è®¾å¤‡ä¸­åŒæ ·è¿›è¡Œç›¸åŒè®¾ç½®, ç„¶åæ‰‹åŠ¨è§¦å‘åŒæ­¥åŠŸèƒ½å³å¯è¿›è¡ŒåŒæ­¥

![himg](https://a.hanleylee.com/HKMS/2021-02-16230821.png?x-oss-process=style/WaMa)

ä¸ºäº†åŒºåˆ†å’Œç®¡ç†æ–¹ä¾¿, å¤šå°ç”µè„‘é‡Œçš„é‡Œé¼ é¡»ç®¡ `installation_id` æœ€å¥½ä¸è¦é‡å¤. ç”±èœå•æ æ‰§è¡Œ **åŒæ­¥ç”¨æˆ·æ•°æ®** æ—¶,  **é¼ é¡»ç®¡** ä¼šæœç´¢ `/Users/hanley/Library/Mobile Documents/com~apple~CloudDocs/Rime/` ä¸‹æ‰€åŒ…å«çš„æ‰€æœ‰å­ç›®å½•, åˆå¹¶å…¶ä¸­çš„`.userdb.txt` æ–‡ä»¶å¹¶åŒæ­¥åˆ°æœ¬åœ°é…ç½®æ–‡ä»¶å¤¹çš„ `main.userdb` (åŒå‘åˆå¹¶), åŒæ—¶,  **é¼ é¡»ç®¡** ä¼šå¤‡ä»½é…ç½®æ–‡ä»¶å¤¹ä¸­çš„`.dict.yaml` æ–‡ä»¶åˆ° `/Users/hanley/Library/Mobile Documents/com~apple~CloudDocs/Rime/`(å•å‘å¤‡ä»½).

è¿™ä¹ˆè®¾è®¡çš„ç›®çš„å¯ä»¥åˆå¹¶æ¥è‡ªå¤šä¸ªè®¾å¤‡çš„ç”¨æˆ·è¯åº“, å¯ä»¥ç†è§£ä¸º MacBook Air ä¸Šçš„ç”¨æˆ·è¯åº“ [abc] å’Œ MacBook Pro ä¸Šçš„ç”¨æˆ·è¯åº“ [bcd], åœ¨åŒæ­¥åéƒ½å˜æˆäº† [abcd].

## æ€»ç»“

ç¬¬ä¸€é˜¶æ®µçš„å®šåˆ¶åŸºæœ¬ä¸Šåˆ°è¿™é‡Œå°±å‘Šä¸€æ®µè½äº†, å®é™…ä¸Šå¯ä»¥å®šåˆ¶çš„ç‚¹è¿˜éå¸¸çš„å¤š. æ¨èé˜…è¯» RIME å®˜æ–¹çš„ [å®šåˆ¶æŒ‡å—](https://github.com/rime/home/wiki/CustomizationGuide) æ¥è¿›ä¸€æ­¥çš„å®šåˆ¶.

RIME éœ€è¦æ…¢æ…¢çš„æ”¹è¿›é…ç½®æ‰èƒ½è¾¾åˆ°ä»¤äººæ»¡æ„çš„ç¨‹åº¦, å°±åƒ Vim ä¸€æ ·, ä¹ æƒ¯äº†ä¹‹åå°±ä¼šç¦»ä¸å¼€å®ƒ. å¯¹äºæˆ‘æ¥è¯´, æˆ‘æ˜¯éå¸¸å–œæ¬¢è¿™ç§é«˜åº¦å®šåˆ¶åŒ–çš„è¾“å…¥æ³•çš„.  è‡³äºå€¼ä¸å€¼å¾—å»é•¿æœŸæŠ˜è…¾, å„ä½å¯ä»¥å°è¯•ä¹‹åè‡ªè¡Œåˆ¤æ–­.

## å‚è€ƒ

- [Mac ä¸‹è°ƒæ ¡ Rime](https://mritd.com/2019/03/23/oh-my-rime/)
- [é¼ é¡»ç®¡ (Squirrel) è¯åº“æ·»åŠ åŠé…ç½®](http://pythonic.zoomquiet.top/data/20160628220349/index.html)
- [ç”¨ RIME å®šåˆ¶è¾“å…¥æ³•](https://www.ahonn.me/blog/custom-input-methods-with-rime)
- [](https://pepcn.com/wiki/post/gtd/é¼ é¡»ç®¡è¯åº“çš„åŒæ­¥å’Œå¤‡ä»½.md)
